<!DOCTYPE html>
<html lang="en">
<head>
    <title>Blueprints</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/apimock.js"></script>
    <script src="js/apiclient.js"></script>
    <script src="js/app.js"></script>
    <link rel="stylesheet" href="/webjars/bootstrap/3.3.7/css/bootstrap.min.css" />
</head>
<body class="container mt-4">

<h1 class="mb-4">Blueprints</h1>

<div class="form-inline mb-4">
    <label for="author" class="mr-2"><strong>Author</strong></label>
    <input type="text" id="author" class="form-control mr-2" placeholder="Enter author name">
    <button id="get-blueprints" class="btn btn-primary">Get blueprints</button>
</div>

<div class="row">
    <div class="col-md-6">
        <h3 id="authorName"></h3>
        <table class="table table-striped table-bordered table-hover" id="blueprintsTable">
            <thead>
            <tr>
                <th>Blueprint name</th>
                <th>Number of points</th>
                <th>Open</th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>

        <p><strong>Total user points:</strong> <span id="totalPoints">0</span></p>
    </div>

    <div class="col-md-6">
        <h3 id="currentBlueprint">Current blueprint: </h3>
        <canvas id="blueprintCanvas" width="500" height="400"
                class="border d-block mx-auto bg-light"></canvas>

        <div class="mt-3 text-center">
            <button id="save-update" class="btn btn-success">Save / Update</button>
            <button id="create-blueprint" class="btn btn-info ml-2">Create new blueprint</button>
            <button id="delete-blueprint" class="btn btn-danger ml-2">Delete</button>
        </div>
    </div>

</div>



<script>
    // Asociar evento al botón
    $("#get-blueprints").click(function () {
        var author = $("#author").val().trim();
        if (author) {
            app.setAuthor(author);
            app.updateBlueprints();
        } else {
            alert("Por favor ingrese un autor válido.");
        }
    });
</script>
</body>
</html>
